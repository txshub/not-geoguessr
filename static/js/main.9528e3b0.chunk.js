(this["webpackJsonpnot-geoguessr"]=this["webpackJsonpnot-geoguessr"]||[]).push([[0],{50:function(e,t,a){e.exports=a(60)},55:function(e,t,a){},60:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),i=a(6),r=a.n(i),l=(a(55),a(20)),c=a(31),s=a(32),u=a(36),m=a(35),p=a(86),d=Object(p.a)({"@global":{'a[href^="http://maps.google.com/maps"]':{display:"none !important"},'a[href^="https://maps.google.com/maps"]':{display:"none !important"}}}),h={height:"100vh",zIndex:0};function g(e){d();var t={addressControl:!1,fullscreenControl:!1,enableCloseButton:!1,linksControl:!1,showRoadLabels:!1,panControl:!0,panControlOptions:{position:window.google.maps.ControlPosition.LEFT_BOTTOM},zoomControl:!0,zoomControlOptions:{position:window.google.maps.ControlPosition.LEFT_BOTTOM}};return o.a.createElement(l.a,{mapContainerStyle:h,id:"streetview-map",zoom:7,center:{lat:0,lng:0}},o.a.createElement(l.d,{ref:e.streetViewPanoramaRef,position:{lat:e.location.lat(),lng:e.location.lng()},visible:!0,options:t}))}var f=a(29),b=a(93),v=Object(p.a)({selectionMap:{display:"flex",flexDirection:"column",position:"absolute",right:0,bottom:0,height:"300px",width:"300px",opacity:"50%",transition:"all .2s linear",zIndex:10,marginBottom:"20px",marginRight:"20px","&:hover":{opacity:"100%",height:"500px",width:"500px"}},mapContainer:{position:"relative",height:"100%",width:"auto",border:"solid",borderColor:"rgba(0, 0, 0, 1)",marginBottom:"3px"}}),w={disableDefaultUI:!0,minZoom:1,draggableCursor:"crosshair",restriction:{latLngBounds:{north:85,south:-85,west:-180,east:180},strictBounds:!1}},y={height:"100%",width:"100%"};function E(e){var t=v(),a=Object(n.useState)(!1),i=Object(f.a)(a,2),r=i[0],c=i[1],s=Object(n.useState)(null),u=Object(f.a)(s,2),m=u[0],p=u[1],d=Object(n.useRef)();return o.a.createElement("div",{className:t.selectionMap},o.a.createElement("div",{className:t.mapContainer},o.a.createElement(l.a,{id:"selection-map",ref:d,mapContainerStyle:y,zoom:2,center:{lat:0,lng:0},clickableIcons:!1,options:w,onClick:function(e){r||c(!0),p(e.latLng),d.current.state.map.panTo(e.latLng)}},o.a.createElement(l.c,{visible:r,position:m,clickable:!1}))),o.a.createElement(b.a,{onClick:function(t){e.locationSelected(m)},style:{backgroundColor:"red"},disabled:!r},"Select Location"))}var O=a(94),C=a(89),L=a(63),k=a(95),j=Object(p.a)({drawer:{display:"flex"},typography:{flexGrow:1},drawerButton:{position:"absolute",width:"fit-content",left:0,right:0,marginLeft:"auto",marginRight:"auto",padding:"0px",zIndex:1300,opacity:"70%",transition:"0.2s","@media (pointer: coarse), (hover: none)":{zIndex:2},"&:hover":{opacity:"100%"}}});function S(e){var t=j(),a=Object(n.useState)(!1),i=Object(f.a)(a,2),r=i[0],l=i[1],c=function(e){return function(){l(e)}};return o.a.createElement("div",null,o.a.createElement(b.a,{className:t.drawerButton,onClick:c(!0),color:"inherit",variant:"contained"},o.a.createElement(k.a,null)),o.a.createElement(O.a,{className:t.drawer,anchor:"top",open:r,onClose:c(!1),onOpen:c(!0),swipeAreaWidth:50},o.a.createElement(C.a,null,o.a.createElement(L.a,{className:t.typography,variant:"h4"},"Not Geoguessr"),o.a.createElement(b.a,{onClick:function(t){l(!1),e.panToInitialLocation()}},"Go back to initial location"))))}var x=a(90),R=a(91),B=a(92),I=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={open:!1,distance:0},n}return Object(s.a)(a,[{key:"showResult",value:function(e){this.setState({open:!0,distance:e})}},{key:"getDistanceString",value:function(e){return e>=1e3?e/1e3+" km":e+" m"}},{key:"handleRestart",value:function(e){this.setState({open:!1,distance:0}),this.props.restart()}},{key:"render",value:function(){var e=this;return o.a.createElement(x.a,{open:this.state.open,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},o.a.createElement(R.a,{id:"alert-dialog-title"},"You are "+this.getDistanceString(this.state.distance)+" off!"),o.a.createElement(B.a,null,o.a.createElement(b.a,{onClick:function(){return e.handleRestart()},color:"primary"},"New Round")))}}]),a}(n.Component),T=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var o;return Object(c.a)(this,a),(o=t.call(this,e)).state={initialLocation:o.generateLocation()},o.streetView=Object(n.createRef)(),o.resultDialog=Object(n.createRef)(),o}return Object(s.a)(a,[{key:"generateLocation",value:function(){return console.log("NEW LOCATION"),new window.google.maps.LatLng(51.072776,-1.313851)}},{key:"calculateDistance",value:function(e,t){var a=window.google.maps.geometry.spherical.computeDistanceBetween(e,t);return Math.round(a)}},{key:"onLocationSelected",value:function(e){var t=this.calculateDistance(e,this.state.initialLocation);this.resultDialog.current.showResult(t)}},{key:"onPanToInitialLocation",value:function(){this.streetView.current.state.streetViewPanorama.setPosition(this.state.initialLocation)}},{key:"onRestart",value:function(){this.setState({initialLocation:this.generateLocation()})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement(S,{panToInitialLocation:function(){return e.onPanToInitialLocation()}}),o.a.createElement(g,{location:this.state.initialLocation,streetViewPanoramaRef:this.streetView}),o.a.createElement(E,{locationSelected:function(t){return e.onLocationSelected(t)}}),o.a.createElement(I,{ref:this.resultDialog,restart:function(){return e.onRestart()}}))}}]),a}(n.Component);function D(){return o.a.createElement("div",{className:"App"},o.a.createElement(l.b,{id:"script-loader",googleMapsApiKey:"AIzaSyAvSjPZw74KA5TCZ_BniFLVxSERndb8S3A",libraries:["geometry"]},o.a.createElement(T,null)))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(D,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[50,1,2]]]);
//# sourceMappingURL=main.9528e3b0.chunk.js.map